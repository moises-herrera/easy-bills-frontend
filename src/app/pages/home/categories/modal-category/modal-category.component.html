<p-dialog
  [header]="headerLabel"
  [(visible)]="isVisible"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [styleClass]="'modal'"
  (onShow)="getCategoryData()"
  (onHide)="hideModal()"
>
  @if (isLoading) {
    <div class="loading-indicator">
      <p-progressSpinner strokeWidth="4" />
    </div>
  } @else {
    <form
      [formGroup]="categoryForm"
      (ngSubmit)="saveCategory()"
      class="flex flex-col gap-3 p-5"
    >
      <div class="form-control">
        <label>Nombre</label>
        <input formControlName="name" type="text" pInputText />
      </div>

      <div class="form-control">
        <label>Color</label>
        <p-colorPicker formControlName="color" />
      </div>

      <div class="form-control">
        <label>Descripci√≥n</label>
        <textarea
          formControlName="description"
          rows="3"
          cols="30"
          pInputTextarea
        ></textarea>
      </div>

      <button
        type="submit"
        pButton
        label="Guardar"
        class="form-button p-button-rounded p-button-primary"
        [loading]="isSaving"
        [disabled]="categoryForm.invalid || isSaving"
      ></button>
    </form>
  }
</p-dialog>
